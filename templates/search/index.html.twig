{% extends 'base.html.twig' %}

{% block title %}Hello SearchController!{% endblock %}

{% block body %}
</header>
<style>
    /* Styles CSS de base, à personnaliser selon vos besoins */
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    .container {
        max-width: 960px;
        margin: 0 auto;
    }

    .py-5 {
        padding-top: 5rem;
        padding-bottom: 5rem;
    }

    .text-center {
        text-align: center;
    }

    #panier {
        display: flex;
        margin-bottom: 20px;
    }

    .btn {
        cursor: pointer;
        display: flex;
        align-items: center;
        margin-right: 10px;
        border: 1px solid #007bff;
        color: #007bff;
        padding: 0.375rem 0.75rem;
        border-radius: 0.25rem;
    }

    .form-control {
        width: 100%;
        padding: 0.375rem 0.75rem;
        font-size: 1rem;
        line-height: 1.5;
        border: 1px solid #ced4da;
        border-radius: 0.25rem;
    }

    .card {
        margin-bottom: 20px;
        border: 1px solid #ddd;
        border-radius: 4px;
        overflow: hidden;
        
    }

    .card img {
        width: 100%;
        height: auto;
    }

    .card-body {
        padding: 15px;
    }
</style>
</head>
<body>
<main>
    <section class="py-5 text-center container">
        <div id="panier">
            <label class="btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                </svg>
            </label>
            <input class="form-control" type="search" id="searchInput" placeholder="Rechercher..." aria-label="Search">
        </div>
        <div>
            <label for="categoryFilter">Filtrer par catégorie:</label>
            <select id="categoryFilter">
                <option value="all">Toutes les catégories</option>
                <option value="category1">Catégorie 1</option>
                <option value="category2">Catégorie 2</option>
                <option value="category3">Catégorie 3</option>
            </select>
        </div>
    </section>

    <div class="container">
        <div class="row">
            <div class="col" data-category="category1">
                <div class="card">
                    <img src="" alt="Card Image">
                    <div class="card-body">
                        <h2>Titre 1</h2>
                        <p>Description de la carte 1.</p>
                    </div>
                </div>
            </div>
            <div class="col" data-category="category2">
                <div class="card">
                    <img src="" alt="Card Image">
                    <div class="card-body">
                        <h2>Titre 2</h2>
                        <p>Description de la carte 2.</p>
                    </div>
                </div>
            </div>
            <div class="col" data-category="category3">
                <div class="card">
                    <img src="" alt="Card Image">
                    <div class="card-body">
                        <h2>Titre 3</h2>
                        <p>Description de la carte 3.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const searchInput = document.getElementById("searchInput");
        const categoryFilter = document.getElementById("categoryFilter");

        categoryFilter.addEventListener("change", updateCards);
        searchInput.addEventListener("input", updateCards);

        function updateCards() {
            const searchTerm = searchInput.value.toLowerCase();
            const selectedCategory = categoryFilter.value.toLowerCase();
            const cards = document.querySelectorAll(".card");

            cards.forEach((card) => {
                const title = card.querySelector("h2").textContent.toLowerCase();
                const category = card.parentElement.getAttribute("data-category").toLowerCase();

                if ((selectedCategory === "all" || category === selectedCategory) && title.includes(searchTerm)) {
                    card.style.display = "block";
                } else {
                    card.style.display = "none";
                }
            });
        }
    });
</script>

{% endblock %}
